import * as PIXI from "pixi.js";
import { BaseItem } from "@/utils/items/BaseItem.ts";
import { ItemOptions } from "@/utils/types.ts";

export class Bullet extends BaseItem {
  constructor(options: ItemOptions) {
    const sprite = new PIXI.Sprite(options.texture);
    super(sprite, options.x, options.y, 60, 29.3);
    this.container._zIndex = 1;
    this.centerWithPivot();
    this.container.label = "bullet";
    this.container.hitArea = this.toPolygon(svgPoints);
  }
}

const svgPoints = [
  3.5, -0.5, 7.658997535705566, -0.5, 10.137425422668457, 1.3526147603988647,
  12.76667308807373, -0.5, 16.925670623779297, -0.5, 21.084667205810547, -0.5,
  25.24366569519043, -0.5, 22.59733772277832, 0.5000009536743164,
  18.438339233398438, 0.5000005960464478, 14.279342651367188,
  0.5000002384185791, 11.500000953674316, 1.8796539306640625,
  11.500000953674316, 6.038654327392578, 11.5, 10.197650909423828, 11.5,
  14.356647491455078, 11.515644073486328, 18.5, 15.674644470214844, 18.5,
  19.833641052246094, 18.5, 23.992637634277344, 18.5, 22.916133880615234,
  19.090084075927734, 18.780223846435547, 19.49033546447754, 14.645063400268555,
  19.146175384521484, 10.7041654586792, 17.84735679626465, 7.169020175933838,
  19.276220321655273, 3.5000009536743164, 19.05921936035156, 3.5000007152557373,
  14.90022277832031, 3.500000476837158, 10.74122619628906, 3.500000238418579,
  6.5822296142578125, 3.500000238418579, 2.4232330322265625, 26.73174476623535,
  0.40200796723365784, 30.881025314331055, 0.5630996227264404, 34.8946647644043,
  1.615006685256958, 38.5296516418457, 3.6136677265167236, 41.5962028503418,
  6.4107890129089355, 42.5, 10.243392944335938, 40.57069396972656,
  13.665257453918457, 37.28859329223633, 16.20418930053711, 33.49009704589844,
  17.87110710144043, 29.4023494720459, 18.588571548461914, 25.24897766113281,
  18.500001907348633, 21.08998107910156, 18.5, 16.93098449707031, 18.5,
  12.77197265625, 18.5, 11.500000953674316, 15.61297607421875,
  11.500000953674316, 11.4539794921875, 11.5, 7.29498291015625, 11.5,
  3.135986328125, 13.02301025390625, 0.5, 17.1820068359375, 0.5,
  21.34100341796875, 0.5, 25.5, 0.5,
];
